<header
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
  [class.bg-gray-900]="isScrolled"
  [class.shadow-lg]="isScrolled"
  [class.shadow-black]="isScrolled"
  [class.bg-transparent]="!isScrolled"
>
  <!-- Scroll progress bar -->
  <div
    class="absolute top-0 left-0 h-0.5 bg-amber-400 transition-all duration-100 z-10"
    [style.width]="scrollProgress() + '%'"
  ></div>

  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16 md:h-20">
      <!-- Logo -->
      <a href="#" class="flex items-center gap-2 group">
        <div class="w-8 h-8 bg-amber-400 rounded-lg flex items-center justify-center group-hover:bg-amber-300 transition-colors">
          <lucide-icon name="zap" [size]="18" class="text-gray-900"></lucide-icon>
        </div>
        <span class="text-xl font-bold text-white">
          Вілен
        </span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-8">
        <a href="#products"
           class="transition-colors text-sm font-medium"
           [class.text-amber-400]="activeSection() === 'products'"
           [class.text-gray-300]="activeSection() !== 'products'">Категорії</a>
        <a href="#about"
           class="transition-colors text-sm font-medium"
           [class.text-amber-400]="activeSection() === 'about'"
           [class.text-gray-300]="activeSection() !== 'about'">Про нас</a>
        <a href="#why-us"
           class="transition-colors text-sm font-medium"
           [class.text-amber-400]="activeSection() === 'why-us'"
           [class.text-gray-300]="activeSection() !== 'why-us'">Переваги</a>
        <a href="#contact"
           class="transition-colors text-sm font-medium"
           [class.text-amber-400]="activeSection() === 'contact'"
           [class.text-gray-300]="activeSection() !== 'contact'">Контакти</a>
      </div>

      <!-- CTA + Mobile Menu Button -->
      <div class="flex items-center gap-3">
        <!-- Open / Closed badge -->
        <div
          class="hidden md:flex items-center gap-1.5 text-xs font-medium px-2.5 py-1 rounded-full transition-colors"
          [class.bg-green-900]="isOpen()" [class.text-green-400]="isOpen()"
          [class.bg-red-900]="!isOpen()" [class.text-red-400]="!isOpen()"
        >
          <span class="w-1.5 h-1.5 rounded-full"
                [class.bg-green-400]="isOpen()"
                [class.bg-red-400]="!isOpen()"></span>
          {{ isOpen() ? 'Відкрито' : 'Зачинено' }}
        </div>
        <a href="#contact" class="hidden md:inline-flex btn-primary text-sm py-2 px-4">
          Зв'язатися
        </a>
        <button
          class="md:hidden text-gray-300 hover:text-white p-2"
          (click)="toggleMobileMenu()"
          aria-label="Toggle menu"
        >
          @if (isMobileMenuOpen) {
            <lucide-icon name="x" [size]="24"></lucide-icon>
          } @else {
            <lucide-icon name="menu" [size]="24"></lucide-icon>
          }
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    @if (isMobileMenuOpen) {
      <div class="md:hidden bg-gray-900 border-t border-gray-700 pb-4">
        <div class="flex flex-col gap-1 pt-2">
          <a href="#products" (click)="closeMobileMenu()" class="px-4 py-3 text-gray-300 hover:text-amber-400 hover:bg-gray-800 rounded-lg transition-colors">Категорії</a>
          <a href="#about" (click)="closeMobileMenu()" class="px-4 py-3 text-gray-300 hover:text-amber-400 hover:bg-gray-800 rounded-lg transition-colors">Про нас</a>
          <a href="#why-us" (click)="closeMobileMenu()" class="px-4 py-3 text-gray-300 hover:text-amber-400 hover:bg-gray-800 rounded-lg transition-colors">Переваги</a>
          <a href="#contact" (click)="closeMobileMenu()" class="px-4 py-3 text-gray-300 hover:text-amber-400 hover:bg-gray-800 rounded-lg transition-colors">Контакти</a>
          <div class="px-4 pt-2">
            <a href="#contact" (click)="closeMobileMenu()" class="btn-primary w-full justify-center">Зв'язатися</a>
          </div>
        </div>
      </div>
    }
  </nav>
</header>
